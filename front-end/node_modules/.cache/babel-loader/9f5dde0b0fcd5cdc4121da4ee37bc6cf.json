{"ast":null,"code":"class Api {\n  constructor({\n    baseUrl,\n    headers\n  }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _checkResult(res) {\n    return res.ok ? res.json() : Promise.reject('Error!' + res.statusText);\n  }\n  /**\n   * Loading Cards from the Server\n   * GET https://around.nomoreparties.co/v1/groupId/cards\n   */\n\n\n  getInitialCards() {\n    return fetch(this._baseUrl + '/cards', {\n      headers: this._headers\n    }).then(res => this._checkResult(res));\n  }\n  /**\n  * Loading User Information from the Server\n  * GET https://around.nomoreparties.co/v1/groupId/users/me\n  */\n\n\n  getUserInfo() {\n    return fetch(this._baseUrl + '/users/me', {\n      headers: this._headers\n    }).then(res => this._checkResult(res));\n  }\n  /**\n   * Get all cards and user infos and only then render them\n   */\n\n\n  getAppInfo() {\n    return Promise.all([this.getUserInfo(), this.getInitialCards()]);\n  }\n  /**\n   * Adding a New Card\n   * POST https://around.nomoreparties.co/v1/groupId/cards\n   */\n\n\n  addCard({\n    name,\n    link\n  }) {\n    return fetch(this._baseUrl + '/cards', {\n      headers: this._headers,\n      method: \"POST\",\n      body: JSON.stringify({\n        name,\n        link\n      })\n    }).then(res => this._checkResult(res));\n  }\n  /**\n   * Deleting a Card\n   * DELETE https://around.nomoreparties.co/v1/groupId/cards/cardId\n   */\n\n\n  removeCard(cardId) {\n    return fetch(this._baseUrl + '/cards/' + cardId, {\n      headers: this._headers,\n      method: \"DELETE\"\n    }).then(res => this._checkResult(res));\n  } //Adding and Removing Likes\n\n  /** PUT https://around.nomoreparties.co/v1/groupId/cards/likes/cardId */\n\n\n  addCardLike(cardId) {\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n      headers: this._headers,\n      method: \"PUT\"\n    }).then(res => this._checkResult(res));\n  }\n  /** DELETE https://around.nomoreparties.co/v1/groupId/cards/likes/cardId */\n\n\n  removeCardLike(cardId) {\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n      headers: this._headers,\n      method: \"DELETE\"\n    }).then(res => this._checkResult(res));\n  }\n  /**\n   * Updating Profile Picture\n   * PATCH https://around.nomoreparties.co/v1/groupId/users/me/avatar\n   */\n\n\n  setUserAvatar({\n    avatar\n  }) {\n    return fetch(this._baseUrl + '/users/me/avatar', {\n      headers: this._headers,\n      method: \"PATCH\",\n      body: JSON.stringify({\n        avatar\n      })\n    }).then(res => this._checkResult(res));\n  }\n  /**\n   * Editing the Profile\n   * PATCH https://around.nomoreparties.co/v1/groupId/users/me\n   */\n\n\n  setUserInfos({\n    name,\n    about\n  }) {\n    return fetch(this._baseUrl + '/users/me', {\n      headers: this._headers,\n      method: \"PATCH\",\n      body: JSON.stringify({\n        name,\n        about\n      })\n    }).then(res => this._checkResult(res));\n  }\n\n}\n\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/group-5\",\n  headers: {\n    authorization: projectId,\n    \"Content-Type\": \"application/json\"\n  }\n});\nexport default api;","map":{"version":3,"sources":["/Users/emiline/Desktop/dev/around-react/src/utils/Api.js"],"names":["Api","constructor","baseUrl","headers","_baseUrl","_headers","_checkResult","res","ok","json","Promise","reject","statusText","getInitialCards","fetch","then","getUserInfo","getAppInfo","all","addCard","name","link","method","body","JSON","stringify","removeCard","cardId","addCardLike","removeCardLike","setUserAvatar","avatar","setUserInfos","about","api","authorization","projectId"],"mappings":"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","sourcesContent":["class Api {\n  constructor({baseUrl, headers}) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _checkResult(res) {\n    return (res.ok ? res.json() : Promise.reject('Error!' + res.statusText));\n  }\n\n  /**\n   * Loading Cards from the Server\n   * GET https://around.nomoreparties.co/v1/groupId/cards\n   */\n  getInitialCards() {\n    return fetch(this._baseUrl + '/cards', {\n      headers: this._headers\n    })\n    .then(res => this._checkResult(res))\n  }\n\n   /**\n   * Loading User Information from the Server\n   * GET https://around.nomoreparties.co/v1/groupId/users/me\n   */\n  getUserInfo() {\n    return fetch(this._baseUrl + '/users/me', {\n      headers: this._headers\n    })\n    .then(res => this._checkResult(res))\n  }\n\n\n  /**\n   * Get all cards and user infos and only then render them\n   */\n  getAppInfo() {\n    return Promise.all([this.getUserInfo(), this.getInitialCards()]);\n  }\n\n  /**\n   * Adding a New Card\n   * POST https://around.nomoreparties.co/v1/groupId/cards\n   */\n  addCard({name, link}) {\n    return fetch(this._baseUrl + '/cards', {\n      headers: this._headers,\n      method: \"POST\",\n      body: JSON.stringify({\n        name,\n        link\n      })\n    })\n    .then(res => this._checkResult(res))\n  }\n\n   /**\n    * Deleting a Card\n    * DELETE https://around.nomoreparties.co/v1/groupId/cards/cardId\n    */\n  removeCard(cardId) {\n    return fetch(this._baseUrl + '/cards/' + cardId, {\n      headers: this._headers,\n      method: \"DELETE\"\n    })\n    .then(res => this._checkResult(res))\n  }\n\n  //Adding and Removing Likes\n  /** PUT https://around.nomoreparties.co/v1/groupId/cards/likes/cardId */\n  addCardLike(cardId) {\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n      headers: this._headers,\n      method: \"PUT\"\n    })\n    .then(res =>this._checkResult(res))\n  }\n\n  /** DELETE https://around.nomoreparties.co/v1/groupId/cards/likes/cardId */\n  removeCardLike(cardId) {\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n      headers: this._headers,\n      method: \"DELETE\"\n    })\n    .then(res => this._checkResult(res))\n  }\n\n   /**\n    * Updating Profile Picture\n    * PATCH https://around.nomoreparties.co/v1/groupId/users/me/avatar\n    */\n  setUserAvatar({avatar}) {\n    return fetch(this._baseUrl + '/users/me/avatar', {\n      headers: this._headers,\n      method: \"PATCH\",\n      body: JSON.stringify({\n        avatar\n      })\n    })\n    .then(res => this._checkResult(res))\n  }\n\n  /**\n   * Editing the Profile\n   * PATCH https://around.nomoreparties.co/v1/groupId/users/me\n   */\n  setUserInfos({name, about}) {\n    return fetch(this._baseUrl + '/users/me', {\n      headers: this._headers,\n      method: \"PATCH\",\n      body: JSON.stringify({\n        name,\n        about\n      })\n    })\n    .then(res => this._checkResult(res))\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/group-5\",\n  headers: {\n    authorization: projectId,\n    \"Content-Type\": \"application/json\"\n  }\n});\n\nexport default api;\n"]},"metadata":{},"sourceType":"module"}