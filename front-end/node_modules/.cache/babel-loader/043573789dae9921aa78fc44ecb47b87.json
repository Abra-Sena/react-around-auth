{"ast":null,"code":"import _classCallCheck from\"/Users/emiline/Desktop/dev/around-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/emiline/Desktop/dev/around-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";var Api=/*#__PURE__*/function(){function Api(_ref){var baseUrl=_ref.baseUrl,headers=_ref.headers;_classCallCheck(this,Api);this._baseUrl=baseUrl;this._headers=headers;}_createClass(Api,[{key:\"_checkResult\",value:function _checkResult(res){return res.ok?res.json():Promise.reject('Error!'+res.statusText);}/**\n   * Loading Cards from the Server\n   * GET https://around.nomoreparties.co/v1/groupId/cards\n   */},{key:\"getInitialCards\",value:function getInitialCards(){var _this=this;return fetch(this._baseUrl+'/cards',{headers:this._headers}).then(function(res){return _this._checkResult(res);});}/**\n   * Loading User Information from the Server\n   * GET https://around.nomoreparties.co/v1/groupId/users/me\n   */},{key:\"getUserInfo\",value:function getUserInfo(){var _this2=this;return fetch(this._baseUrl+'/users/me',{headers:this._headers}).then(function(res){return _this2._checkResult(res);});}/**\n   * Get all cards and user infos and only then render them\n   */},{key:\"getAppInfo\",value:function getAppInfo(){return Promise.all([this.getUserInfo(),this.getInitialCards()]);}/**\n   * Adding a New Card\n   * POST https://around.nomoreparties.co/v1/groupId/cards\n   */},{key:\"addCard\",value:function addCard(_ref2){var _this3=this;var name=_ref2.name,link=_ref2.link;return fetch(this._baseUrl+'/cards',{headers:this._headers,method:\"POST\",body:JSON.stringify({name:name,link:link})}).then(function(res){return _this3._checkResult(res);});}/**\n    * Deleting a Card\n    * DELETE https://around.nomoreparties.co/v1/groupId/cards/cardId\n    */},{key:\"removeCard\",value:function removeCard(cardId){var _this4=this;return fetch(this._baseUrl+'/cards/'+cardId,{headers:this._headers,method:\"DELETE\"}).then(function(res){return _this4._checkResult(res);});}//Adding and Removing Likes\n/** PUT https://around.nomoreparties.co/v1/groupId/cards/likes/cardId */},{key:\"addCardLike\",value:function addCardLike(cardId){var _this5=this;return fetch(this._baseUrl+'/cards/likes/'+cardId,{headers:this._headers,method:\"PUT\"}).then(function(res){return _this5._checkResult(res);});}/** DELETE https://around.nomoreparties.co/v1/groupId/cards/likes/cardId */},{key:\"removeCardLike\",value:function removeCardLike(cardId){var _this6=this;return fetch(this._baseUrl+'/cards/likes/'+cardId,{headers:this._headers,method:\"DELETE\"}).then(function(res){return _this6._checkResult(res);});}/**\n    * Updating Profile Picture\n    * PATCH https://around.nomoreparties.co/v1/groupId/users/me/avatar\n    */},{key:\"setUserAvatar\",value:function setUserAvatar(_ref3){var _this7=this;var avatar=_ref3.avatar;return fetch(this._baseUrl+'/users/me/avatar',{headers:this._headers,method:\"PATCH\",body:JSON.stringify({avatar:avatar})}).then(function(res){return _this7._checkResult(res);});}/**\n   * Editing the Profile\n   * PATCH https://around.nomoreparties.co/v1/groupId/users/me\n   */},{key:\"setUserInfos\",value:function setUserInfos(_ref4){var _this8=this;var name=_ref4.name,about=_ref4.about;return fetch(this._baseUrl+'/users/me',{headers:this._headers,method:\"PATCH\",body:JSON.stringify({name:name,about:about})}).then(function(res){return _this8._checkResult(res);});}}]);return Api;}();var api=new Api({baseUrl:\"https://around.nomoreparties.co/v1/group-5\",headers:{authorization:\"a0a03679-4255-43a8-85cb-b4bca24b592e\",\"Content-Type\":\"application/json\"}});export default api;","map":{"version":3,"sources":["/Users/emiline/Desktop/dev/around-react/src/utils/api.js"],"names":["Api","baseUrl","headers","_baseUrl","_headers","res","ok","json","Promise","reject","statusText","fetch","then","_checkResult","all","getUserInfo","getInitialCards","name","link","method","body","JSON","stringify","cardId","avatar","about","api","authorization"],"mappings":"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","sourcesContent":["class Api {\n  constructor({baseUrl, headers}) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _checkResult(res) {\n    return (res.ok ? res.json() : Promise.reject('Error!' + res.statusText));\n  }\n\n  /**\n   * Loading Cards from the Server\n   * GET https://around.nomoreparties.co/v1/groupId/cards\n   */\n  getInitialCards() {\n    return fetch(this._baseUrl + '/cards', {\n      headers: this._headers\n    })\n    .then(res => this._checkResult(res))\n  }\n\n   /**\n   * Loading User Information from the Server\n   * GET https://around.nomoreparties.co/v1/groupId/users/me\n   */\n  getUserInfo() {\n    return fetch(this._baseUrl + '/users/me', {\n      headers: this._headers\n    })\n    .then(res => this._checkResult(res))\n  }\n\n\n  /**\n   * Get all cards and user infos and only then render them\n   */\n  getAppInfo() {\n    return Promise.all([this.getUserInfo(), this.getInitialCards()]);\n  }\n\n  /**\n   * Adding a New Card\n   * POST https://around.nomoreparties.co/v1/groupId/cards\n   */\n  addCard({name, link}) {\n    return fetch(this._baseUrl + '/cards', {\n      headers: this._headers,\n      method: \"POST\",\n      body: JSON.stringify({\n        name,\n        link\n      })\n    })\n    .then(res => this._checkResult(res))\n  }\n\n   /**\n    * Deleting a Card\n    * DELETE https://around.nomoreparties.co/v1/groupId/cards/cardId\n    */\n  removeCard(cardId) {\n    return fetch(this._baseUrl + '/cards/' + cardId, {\n      headers: this._headers,\n      method: \"DELETE\"\n    })\n    .then(res => this._checkResult(res))\n  }\n\n  //Adding and Removing Likes\n  /** PUT https://around.nomoreparties.co/v1/groupId/cards/likes/cardId */\n  addCardLike(cardId) {\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n      headers: this._headers,\n      method: \"PUT\"\n    })\n    .then(res =>this._checkResult(res))\n  }\n\n  /** DELETE https://around.nomoreparties.co/v1/groupId/cards/likes/cardId */\n  removeCardLike(cardId) {\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n      headers: this._headers,\n      method: \"DELETE\"\n    })\n    .then(res => this._checkResult(res))\n  }\n\n   /**\n    * Updating Profile Picture\n    * PATCH https://around.nomoreparties.co/v1/groupId/users/me/avatar\n    */\n  setUserAvatar({avatar}) {\n    return fetch(this._baseUrl + '/users/me/avatar', {\n      headers: this._headers,\n      method: \"PATCH\",\n      body: JSON.stringify({\n        avatar\n      })\n    })\n    .then(res => this._checkResult(res))\n  }\n\n  /**\n   * Editing the Profile\n   * PATCH https://around.nomoreparties.co/v1/groupId/users/me\n   */\n  setUserInfos({name, about}) {\n    return fetch(this._baseUrl + '/users/me', {\n      headers: this._headers,\n      method: \"PATCH\",\n      body: JSON.stringify({\n        name,\n        about\n      })\n    })\n    .then(res => this._checkResult(res))\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/group-5\",\n  headers: {\n    authorization: \"a0a03679-4255-43a8-85cb-b4bca24b592e\",\n    \"Content-Type\": \"application/json\"\n  }\n});\n\nexport default api;\n"]},"metadata":{},"sourceType":"module"}