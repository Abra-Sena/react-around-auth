{"ast":null,"code":"import _slicedToArray from\"/Users/emiline/Desktop/dev/around-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React from'react';// import FormValidator from \"./FormValidator\";\nimport PopupWithForm from'./PopupWithForm';import{CurrentUserContext}from'../contexts/CurrentUserContext';// import { defaultSettings } from \"../utils/constants\";\nfunction EditProfilePopup(props){var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),about=_React$useState4[0],setAbout=_React$useState4[1];var currentUser=React.useContext(CurrentUserContext);// const editFormValidator = new FormValidator(defaultSettings, '.form_edit-profile');\nfunction handleNameChange(evt){setName(evt.target.value);}function handleAboutChange(evt){setAbout(evt.target.value);}function handleSubmit(evt){evt.preventDefault();//validate edit profile\n// editFormValidator.enableValidation();\nprops.onProfileUpdate({name:name,about:about});}// copy user data into popup form on open\nReact.useEffect(function(){setName(currentUser.name||'');setAbout(currentUser.about||'');},[currentUser]);return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"edit-profile\",title:\"Edit Profile\",submitButton:\"Save\",submitButtonClassName:\"form__submit\",isOpen:props.isOpen,onClose:props.onClose,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{id:\"profile-name\",type:\"text\",name:\"name\",className:\"form__input form__input_type_name\",placeholder:\"Name\",minLength:\"2\",maxLength:\"30\",value:name,onChange:handleNameChange,required:true}),/*#__PURE__*/_jsx(\"span\",{id:\"profile-name-error\",className:\"form__field form__field_error\"}),/*#__PURE__*/_jsx(\"input\",{id:\"profile-description\",type:\"text\",name:\"about\",className:\"form__input form__input_type_description\",placeholder:\"About Me\",minLength:\"2\",maxLength:\"200\",value:about,onChange:handleAboutChange,required:true}),/*#__PURE__*/_jsx(\"span\",{id:\"profile-description-error\",className:\"form__field form__field_error\"})]});}export default EditProfilePopup;","map":{"version":3,"sources":["/Users/emiline/Desktop/dev/around-react/src/components/EditProfilePopup.js"],"names":["React","PopupWithForm","CurrentUserContext","EditProfilePopup","props","useState","name","setName","about","setAbout","currentUser","useContext","handleNameChange","evt","target","value","handleAboutChange","handleSubmit","preventDefault","onProfileUpdate","useEffect","isOpen","onClose"],"mappings":"sPAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA;AACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,OAASC,kBAAT,KAAmC,gCAAnC,CACA;AAGA,QAASC,CAAAA,gBAAT,CAA0BC,KAA1B,CAAiC,qBACPJ,KAAK,CAACK,QAAN,CAAe,EAAf,CADO,oDACxBC,IADwB,qBAClBC,OADkB,0CAELP,KAAK,CAACK,QAAN,CAAe,EAAf,CAFK,qDAExBG,KAFwB,qBAEjBC,QAFiB,qBAG/B,GAAMC,CAAAA,WAAW,CAAGV,KAAK,CAACW,UAAN,CAAiBT,kBAAjB,CAApB,CACA;AAEA,QAASU,CAAAA,gBAAT,CAA0BC,GAA1B,CAA+B,CAC7BN,OAAO,CAACM,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAP,CACD,CAED,QAASC,CAAAA,iBAAT,CAA2BH,GAA3B,CAAgC,CAC9BJ,QAAQ,CAACI,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAR,CACD,CAED,QAASE,CAAAA,YAAT,CAAsBJ,GAAtB,CAA2B,CACzBA,GAAG,CAACK,cAAJ,GACA;AACA;AACAd,KAAK,CAACe,eAAN,CAAsB,CAACb,IAAI,CAAJA,IAAD,CAAOE,KAAK,CAALA,KAAP,CAAtB,EACD,CAED;AACAR,KAAK,CAACoB,SAAN,CAAgB,UAAM,CACpBb,OAAO,CAACG,WAAW,CAACJ,IAAZ,EAAoB,EAArB,CAAP,CACAG,QAAQ,CAACC,WAAW,CAACF,KAAZ,EAAqB,EAAtB,CAAR,CACD,CAHD,CAGG,CAACE,WAAD,CAHH,EAMA,mBACE,MAAC,aAAD,EACE,IAAI,CAAC,cADP,CAEE,KAAK,CAAC,cAFR,CAGE,YAAY,CAAC,MAHf,CAIE,qBAAqB,CAAC,cAJxB,CAKE,MAAM,CAAEN,KAAK,CAACiB,MALhB,CAME,OAAO,CAAEjB,KAAK,CAACkB,OANjB,CAOE,QAAQ,CAAEL,YAPZ,wBASE,cAAO,EAAE,CAAC,cAAV,CAAyB,IAAI,CAAC,MAA9B,CAAqC,IAAI,CAAC,MAA1C,CAAiD,SAAS,CAAC,mCAA3D,CAA+F,WAAW,CAAC,MAA3G,CAAkH,SAAS,CAAC,GAA5H,CAAgI,SAAS,CAAC,IAA1I,CAA+I,KAAK,CAAEX,IAAtJ,CAA4J,QAAQ,CAAEM,gBAAtK,CAAwL,QAAQ,KAAhM,EATF,cAUE,aAAM,EAAE,CAAC,oBAAT,CAA8B,SAAS,CAAC,+BAAxC,EAVF,cAWE,cAAO,EAAE,CAAC,qBAAV,CAAgC,IAAI,CAAC,MAArC,CAA4C,IAAI,CAAC,OAAjD,CAAyD,SAAS,CAAC,0CAAnE,CAA8G,WAAW,CAAC,UAA1H,CAAqI,SAAS,CAAC,GAA/I,CAAmJ,SAAS,CAAC,KAA7J,CAAmK,KAAK,CAAEJ,KAA1K,CAAiL,QAAQ,CAAEQ,iBAA3L,CAA8M,QAAQ,KAAtN,EAXF,cAYE,aAAM,EAAE,CAAC,2BAAT,CAAqC,SAAS,CAAC,+BAA/C,EAZF,GADF,CAgBD,CACD,cAAeb,CAAAA,gBAAf","sourcesContent":["import React from 'react';\n// import FormValidator from \"./FormValidator\";\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n// import { defaultSettings } from \"../utils/constants\";\n\n\nfunction EditProfilePopup(props) {\n  const [name, setName] = React.useState(\"\");\n  const [about, setAbout] = React.useState(\"\");\n  const currentUser = React.useContext(CurrentUserContext);\n  // const editFormValidator = new FormValidator(defaultSettings, '.form_edit-profile');\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleAboutChange(evt) {\n    setAbout(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    //validate edit profile\n    // editFormValidator.enableValidation();\n    props.onProfileUpdate({name, about});\n  }\n\n  // copy user data into popup form on open\n  React.useEffect(() => {\n    setName(currentUser.name || '');\n    setAbout(currentUser.about || '');\n  }, [currentUser]);\n\n\n  return (\n    <PopupWithForm\n      name=\"edit-profile\"\n      title=\"Edit Profile\"\n      submitButton=\"Save\"\n      submitButtonClassName=\"form__submit\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input id=\"profile-name\" type=\"text\" name=\"name\" className=\"form__input form__input_type_name\" placeholder=\"Name\" minLength=\"2\" maxLength=\"30\" value={name} onChange={handleNameChange} required />\n      <span id=\"profile-name-error\" className=\"form__field form__field_error\"></span>\n      <input id=\"profile-description\" type=\"text\" name=\"about\" className=\"form__input form__input_type_description\" placeholder=\"About Me\" minLength=\"2\" maxLength=\"200\" value={about} onChange={handleAboutChange} required />\n      <span id=\"profile-description-error\" className=\"form__field form__field_error\"></span>\n    </PopupWithForm>\n  )\n}\nexport default EditProfilePopup;\n\n"]},"metadata":{},"sourceType":"module"}